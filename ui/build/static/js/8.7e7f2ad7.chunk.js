(this["webpackJsonplic-ui"]=this["webpackJsonplic-ui"]||[]).push([[8],{723:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));s(726);var n=s(223),a=s.n(n),r=s(736),c=s(2);const o=(e,t)=>{var s;"success"===e&&(s=t,a.a.success(s,{style:{borderRadius:"10px",background:"#28a745",color:"#fff"}})),"error"===e&&(e=>{a.a.error(e,{style:{borderRadius:"10px",background:"#dc3545",color:"#fff"}})})(t),"warning"===e&&(e=>{a()(e,{style:{borderRadius:"10px",background:"#ffc107",color:"#fff"}})})(t),"info"===e&&(e=>{a()(e,{style:{borderRadius:"10px",background:"#17a2b8",color:"#fff"}})})(t)};r.a,r.a,r.a},724:function(e,t,s){"use strict";var n=s(160),a=s.n(n),r=s(723),c=s(27);const o=a.a.create({baseURL:c.c});let i=sessionStorage.getItem("token");o.interceptors.request.use((async e=>(i||(i=sessionStorage.getItem("token")),e.headers.Authorization=i,e))),o.interceptors.response.use((async e=>e),(e=>{var t,s;return r.a("error",null===e||void 0===e||null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message),Promise.reject(e.response&&e.response.data||"Something went wrong")})),t.a=o},725:function(e,t,s){"use strict";s.d(t,"h",(function(){return n})),s.d(t,"g",(function(){return a})),s.d(t,"d",(function(){return r})),s.d(t,"f",(function(){return c})),s.d(t,"m",(function(){return o})),s.d(t,"a",(function(){return i})),s.d(t,"k",(function(){return l})),s.d(t,"i",(function(){return d})),s.d(t,"j",(function(){return u})),s.d(t,"b",(function(){return j})),s.d(t,"c",(function(){return b})),s.d(t,"l",(function(){return h})),s.d(t,"e",(function(){return p}));const n="/auth/signup",a="/auth/login",r="/auth/forget-password",c="/auth/reset-password",o="/auth/verify-otp",i="/auth/change-password",l="/user/list",d="/user/top-earners",u="/user/",j="/user/filter",b="/user/username/",h="/user/profile",p="/policy-holder"},730:function(e,t,s){"use strict";s.d(t,"d",(function(){return c})),s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return i})),s.d(t,"e",(function(){return l})),s.d(t,"c",(function(){return d}));var n=s(724),a=s(723),r=s(725);const c=async e=>{try{return await n.a.post(r.e,e)}catch(t){return void console.log(t,"<<")}},o=async e=>{try{let t=r.e;null!==e&&void 0!==e&&e.pageSize&&(t+="?pageSize="+(null===e||void 0===e?void 0:e.pageSize)),null!==e&&void 0!==e&&e.pageNumber&&(t+="&pageNumber="+(null===e||void 0===e?void 0:e.pageNumber)),null!==e&&void 0!==e&&e.search&&(t+="&search="+(null===e||void 0===e?void 0:e.search));return await n.a.get(t)}catch(t){return void console.log(t,"<<")}},i=async e=>{try{return await n.a.get(r.e+"/"+e)}catch(t){return void console.log(t,"<<")}},l=async(e,t)=>{try{const s=await n.a.patch(r.e+"/"+e,t);return a.a("success",s.data.message),s}catch(s){return void console.log(s,"<<")}},d=async()=>{try{return await n.a.get(r.e+'?sort="nextDue"&sortType=-1')}catch(e){return void console.log(e,"<<")}}},732:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s(724),a=(s(723),s(725));const r=async e=>{try{return await n.a.get(a.j+e)}catch(t){return void console.log(t,"<<")}}},735:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var n=s(2);const a=e=>{const t=[];for(let s=0;s<e;s++)t.push(s);return t},r=(e,t,s)=>({sno:t,name:Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"table__btnouter",children:Object(n.jsx)("button",{className:"table__btn",onClick:()=>s(e),style:{width:"100%",background:"transparent",textAlign:"left",outline:"none",border:"none",color:"inherit"},children:null===e||void 0===e?void 0:e.name})})}),policyNo:null!==e&&void 0!==e&&e.policyNo?null===e||void 0===e?void 0:e.policyNo:"--",typeOfEmi:null!==e&&void 0!==e&&e.typeOfEmi?null===e||void 0===e?void 0:e.typeOfEmi:"--",createdAt:null===e||void 0===e?void 0:e.createdAt.substr(0,10),nextDue:null===e||void 0===e?void 0:e.nextDue.substr(0,10)});function c(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const s=t[e];return a(s).map((s=>({...r(t[e+1][s],s+1,t[e+2]),subRows:t[e+1]?n(e+1):void 0})))};return n()}},751:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),r=s(732),c=s(740),o=s(734),i=s(727),l=s(720),d=s(209),u=s(25),j=s(117),b=s(2);var h=function(e){let{urlUserId:t}=e,s=sessionStorage.getItem("userId");const[a,h]=Object(n.useState)(),[p,m]=Object(n.useState)(!0);return Object(n.useEffect)((()=>{!async function(){var e;m(!0);let n=await Object(r.a)(t||s);h(null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.data),m(!1)}()}),[]),Object(b.jsx)(b.Fragment,{children:p?Object(b.jsx)(j.a,{loaded:p}):Object(b.jsxs)(c.a,{className:"user-profile-card  mb-4 p-0 ",children:[Object(b.jsx)(c.a.Header,{className:"border-0 p-0 mt-4 mr-4 border d-flex justify-content-end"}),Object(b.jsx)(c.a.Body,{className:"py-0",children:Object(b.jsx)("div",{className:"user-about-block m-0",children:Object(b.jsx)(o.a,{children:Object(b.jsxs)(i.a,{md:12,className:"text-center mb-5 ",children:[Object(b.jsx)("div",{className:"change-profile text-center",children:Object(b.jsx)(l.a,{className:"w-auto d-inline-block",children:Object(b.jsx)(l.a.Toggle,{as:"a",variant:"link",id:"dropdown-basic",children:Object(b.jsx)("div",{className:"profile-dp",children:Object(b.jsx)("div",{className:"position-relative d-inline-block",children:Object(b.jsx)("img",{className:"img-radius img-fluid wid-100",src:d.default,alt:"User"})})})})})}),Object(b.jsx)("h5",{className:"mb-1 text-capitalize font-weight-bold",children:null===a||void 0===a?void 0:a.name}),Object(b.jsxs)("p",{className:"mb-2 text-muted",children:[u.b.formFields.id," ",null===a||void 0===a?void 0:a.username]})]})})})})]})})},p=s(750);var m=function(e){let{setPopupId:t}=e;const s=()=>{let e=sessionStorage.removeItem("pId");t(e)};return Object(b.jsx)(p.a,{show:!1,onHide:s,backdrop:"static",keyboard:!1,centered:!0,children:Object(b.jsxs)(p.a.Body,{className:"welcome-modal",children:[Object(b.jsx)("div",{className:"text-right w-100 mt-2",children:Object(b.jsx)("span",{className:"closeButton",onClick:()=>s(),children:"X"})}),Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"text-content",children:Object(b.jsx)("p",{children:u.b.advertise})})})]})})},v=s(735),g=s(738),x=s(756),O=s(737);s(724),s(723),s(725);var f=function(e){let{columns:t,data:s,setUserList:n}=e;const{getTableProps:a,getTableBodyProps:r,headerGroups:c,prepareRow:l,page:d,canPreviousPage:u,canNextPage:j,pageOptions:h,pageCount:p,gotoPage:m,nextPage:v,previousPage:f,setPageSize:y,state:{pageIndex:N,pageSize:w}}=Object(O.useTable)({columns:t,data:null!==s&&void 0!==s&&s.length?s:[],initialState:{pageIndex:0}},O.useGlobalFilter,O.usePagination);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"",children:[Object(b.jsx)(o.a,{className:"mb-3 ",children:Object(b.jsxs)(i.a,{className:"d-flex align-items-center",children:["Show",Object(b.jsx)("select",{className:"form-control w-auto mx-2",value:w,onChange:e=>{y(Number(e.target.value))},children:[5,10,20,30,40,50].map((e=>Object(b.jsx)("option",{value:e,children:e},e)))}),"entries"]})}),Object(b.jsxs)(g.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,...a(),children:[Object(b.jsx)("thead",{children:c.map((e=>Object(b.jsx)("tr",{...e.getHeaderGroupProps(),children:e.headers.map((e=>Object(b.jsx)("th",{...e.getHeaderProps(),children:e.render("Header")})))})))}),Object(b.jsx)("tbody",{...r(),children:d.map(((e,t)=>(l(e),Object(b.jsx)("tr",{...e.getRowProps(),children:e.cells.map((e=>Object(b.jsx)("td",{...e.getCellProps(),children:e.render("Cell")})))}))))})]}),Object(b.jsxs)(o.a,{className:"justify-content-between mt-3 ",children:[Object(b.jsx)(i.a,{sm:12,md:6,children:Object(b.jsxs)("span",{className:"d-flex align-items-center",children:["Page"," ",Object(b.jsxs)("strong",{children:[" ",N+1," of ",h.length," "]})," ","| Go to page:"," ",Object(b.jsx)("input",{type:"number",className:"form-control ml-2",defaultValue:N+1,onChange:e=>{const t=e.target.value?Number(e.target.value)-1:0;m(t)},style:{width:"100px"}})]})}),Object(b.jsx)(i.a,{sm:12,md:6,children:Object(b.jsxs)(x.a,{className:"justify-content-end",children:[Object(b.jsx)(x.a.First,{onClick:()=>m(0),disabled:!u}),Object(b.jsx)(x.a.Prev,{onClick:()=>f(),disabled:!u}),Object(b.jsx)(x.a.Next,{onClick:()=>v(),disabled:!j}),Object(b.jsx)(x.a.Last,{onClick:()=>m(p-1),disabled:!j})]})})]})]})})},y=s(730),N=s(747);var w=()=>{const[e,t]=Object(n.useState)(!0),[s,r]=Object(n.useState)(),l=Object(N.useHistory)();Object(n.useEffect)((()=>{!async function(){var e,n;let a=await Object(y.c)();console.log(null===a||void 0===a?void 0:a.data),r(null===a||void 0===a||null===(e=a.data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.data),t(!1),console.log(s)}()}),[]);const d=e=>{if(e){const t="/policy-holder/details?edit=true&tab=0&id="+(null===e||void 0===e?void 0:e._id);l.push(t)}},h=a.a.useMemo((()=>[{Header:u.b.policyHolder.TABLE.HEADER.SNO,accessor:"sno"},{Header:u.b.policyHolder.TABLE_PAGE.TITLE_HEADER,accessor:"name"},{Header:u.b.policyHolder.TABLE_PAGE.POLICY_NO,accessor:"policyNo"},,{Header:u.b.policyHolder.TABLE_PAGE.NEXT_DUE,accessor:"nextDue"},{Header:u.b.policyHolder.TABLE_PAGE.TYPE_OF_PAY,accessor:"typeOfEmi"},{Header:u.b.policyHolder.TABLE_PAGE.CREATED_AT,accessor:"createdAt"}]),[]),p=a.a.useMemo((()=>Object(v.a)(null===s||void 0===s?void 0:s.length,s,d)));return Object(b.jsx)(a.a.Fragment,{children:e?Object(b.jsx)(j.a,{loaded:e}):Object(b.jsx)(o.a,{children:Object(b.jsx)(i.a,{children:Object(b.jsx)(c.a,{children:Object(b.jsx)(c.a.Body,{children:null!==s&&void 0!==s&&s.length?Object(b.jsx)(f,{columns:h,data:p}):Object(b.jsx)("h3",{className:"text-muted",children:u.b.transactionTable.noHistoryMsg})})})})})})};t.default=()=>{const[e,t]=Object(n.useState)(!0);let s=sessionStorage.getItem("pId");const[a,c]=Object(n.useState)(s),[o,i]=Object(n.useState)();let l=sessionStorage.getItem("userId");return Object(n.useEffect)((()=>{!async function(){var e;t(!0);let s=await Object(r.a)(l);i(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.data),t(!1)}()}),[]),Object(b.jsxs)(b.Fragment,{children:[a?Object(b.jsx)(m,{setPopupId:c}):null,e?Object(b.jsx)(j.a,{loaded:e}):Object(b.jsxs)("div",{className:"dashboard-section",children:[Object(b.jsx)(h,{setIsLoader:t}),Object(b.jsx)(w,{})]})]})}}}]);
//# sourceMappingURL=8.7e7f2ad7.chunk.js.map